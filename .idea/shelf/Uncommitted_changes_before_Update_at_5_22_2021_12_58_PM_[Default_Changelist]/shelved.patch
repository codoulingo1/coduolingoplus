Index: app/src/main/java/com/getcodly/codly/profileFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.getcodly.codly;\r\n\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.ListView;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toolbar;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentPagerAdapter;\r\nimport androidx.viewpager.widget.ViewPager;\r\n\r\nimport com.amulyakhare.textdrawable.TextDrawable;\r\nimport com.amulyakhare.textdrawable.util.ColorGenerator;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\npublic class profileFragment extends Fragment {\r\n\r\n    ListView listView;\r\n    ImageView profImg;\r\n    TextView setName;\r\n    public static ArrayList<String> list;\r\n    String url_old;\r\n    public static ArrayList<String> names;\r\n    public static ArrayList<String> vals;\r\n    boolean b = false;\r\n    String streak;\r\n    public static String name;\r\n    private GoogleSignInClient mGoogleSignInClient;\r\n    FirebaseAuth mAuth;\r\n    Button toSearch;\r\n    Button toLigot;\r\n    HashMap<String, String> old_streak;\r\n    TextView setStreak;\r\n    public static HashMap<String, String> ret;\r\n    private FriendsFragment friendsFragment;\r\n    ProgressBar levelProgress;\r\n    ViewPager viewPager;\r\n    TabLayout tabLayout;\r\n    TextView levelView;\r\n    TextView courseXp1;\r\n    TextView courseXp2;\r\n    TextView xpView;\r\n    TextView goalText;\r\n    ProgressBar courseProgressbarWeb;\r\n    ProgressBar courseProgressbarPy;\r\n    TextView percentageProgress1;\r\n    TextView percentageProgress2;\r\n    Button fullListBtn;\r\n    FriendsFragmentDialog friendsFragmentDialog = new FriendsFragmentDialog();\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View v = inflater.inflate(R.layout.fragment_profile2, container, false);\r\n        Log.d(\"fragmentTest\", \"savta2\");\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        levelProgress = v.findViewById(R.id.levelProgress);\r\n        tabLayout = (TabLayout) v.findViewById(R.id.tabs);\r\n        //listView = (ListView) v.findViewById(R.id.viewPager);\r\n        fullListBtn = v.findViewById(R.id.toFullList);\r\n        profImg = (ImageView) v.findViewById(R.id.imageView2);\r\n        setStreak = (TextView) v.findViewById(R.id.streakView);\r\n        setName = (TextView) v.findViewById(R.id.set_name);\r\n        viewPager = v.findViewById(R.id.viewPager);\r\n        levelView = v.findViewById(R.id.level);\r\n        xpView = v.findViewById(R.id.xpCount);\r\n        courseXp1= v.findViewById(R.id.courseXpCountProfile1);\r\n        courseXp2 = v.findViewById(R.id.courseXpCountProfile2);\r\n        goalText = v.findViewById(R.id.goalText);\r\n        toLigot = v.findViewById(R.id.to_ligot);\r\n        courseProgressbarWeb = v.findViewById(R.id.courseProgressWeb);\r\n        percentageProgress1 = v.findViewById(R.id.percentageProgress1);\r\n        courseProgressbarPy = v.findViewById(R.id.courseProgressPy1);\r\n        percentageProgress2 = v.findViewById(R.id.percentageProgress2);\r\n\r\n\r\n        setLevel();\r\n        courseProgress();\r\n\r\n\r\n\r\n        friendsFragment = new FriendsFragment();\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n        mGoogleSignInClient = GoogleSignIn.getClient(getActivity(), gso);\r\n        toLigot.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(getActivity(), LigaActivity.class));\r\n            }\r\n        });\r\n\r\n\r\n        if (!b) {\r\n            b = true;\r\n            name = mainScreen.name;\r\n            streak = mainScreen.streak;\r\n            url_old = mainScreen.img;\r\n            setName.setText(name);\r\n            setStreak.setText(streak);\r\n            ret = new HashMap<>();\r\n            int i = 0;\r\n            list = new ArrayList<String>();\r\n            try {\r\n                Picasso.with(getActivity()).load(url_old).resizeDimen(R.dimen.image_size, R.dimen.image_size).placeholder(R.drawable.goj).into(profImg);\r\n            } catch (Exception e) {\r\n                Log.d(\"drawable\", \"gut?\");\r\n                String firstLetter;\r\n                if (name.split(\" \").length == 1){\r\n                    firstLetter = String.valueOf(name.split(\" \")[0].charAt(0));\r\n                } else{\r\n                    firstLetter = String.valueOf(name.split(\" \")[0].charAt(0)) + String.valueOf(name.split(\" \")[1].charAt(0));\r\n                }\r\n                //ColorGenerator generator = ColorGenerator.MATERIAL;\r\n                int color1 = mainScreen.imgC;\r\n                Log.d(String.valueOf(color1), String.valueOf(color1));\r\n                TextDrawable drawable = TextDrawable.builder().beginConfig()\r\n                        .width(60)  // width in px\r\n                        .height(60) // height in px\r\n                        .endConfig()\r\n                        .buildRect(firstLetter, color1);\r\n                profImg.setImageDrawable(drawable);\r\n            }\r\n            for (String friend : mainScreen.friends.split(\"-\")) {\r\n                try {\r\n                    list.add(friend.split(\"/\")[1]);\r\n                    ret.put(String.valueOf(i), friend.split(\"/\")[0]);\r\n                    Log.d(\"hi\", friend.split(\"/\")[0]);\r\n                    i++;\r\n                } catch (Exception e) {\r\n\r\n                }\r\n            }\r\n            String[] stringArray = list.toArray(new String[list.size()]);\r\n            try {\r\n                ArrayAdapter<String> itemsAdapter = new ArrayAdapter<String>(getActivity(), android.R.layout.simple_list_item_1, android.R.id.text1, stringArray);\r\n            }catch (Exception e){\r\n\r\n            }\r\n            //listView.setAdapter(itemsAdapter);\r\n        }\r\n\r\n        HashMap d = DownloadReadlessons.get_docs(ReadWrite.read(getActivity().getFilesDir() + File.separator + \"user\"), new DownloadReadlessons.HashCallback2() {\r\n            @Override\r\n            public void onCallback(HashMap<String, ArrayList<String>> value) {\r\n                try {\r\n                    String[] stringArray = value.get(\"names\").toArray(new String[value.get(\"names\").size()]);\r\n                    names = value.get(\"names\");\r\n                    vals = value.get(\"vals\");\r\n                    int iInt = 0;\r\n                }catch (Exception e){\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n        /*listView.setOnItemClickListener(new AdapterView.OnItemClickListener()\r\n        {\r\n            public void onItemClick(AdapterView<?> arg0, View arg1, int position, long arg3)\r\n            {\r\n                Log.i(\"HelloListView\", \"You clicked Item: \" + \"id\" + \" at position:\" + position);\r\n                Search.selected = ret.get(String.valueOf(position));\r\n                name = list.get(position);\r\n                Intent in = new Intent(getActivity(), FriendProfile.class);\r\n                startActivity(in);\r\n            }\r\n        });\r\n        backToTree.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getActivity(), mainScreen.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        toSearch.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getActivity(), Search.class);\r\n                startActivity(intent);\r\n            }\r\n        });*/\r\n\r\n        fullListBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                friendsFragmentDialog.show(getParentFragmentManager(), \"Example Dialog\");\r\n            }\r\n        });\r\n\r\n\r\n        return v;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n\r\n        setUpViewPager(viewPager);\r\n        tabLayout.setupWithViewPager(viewPager);\r\n\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void setUpViewPager(ViewPager viewPager) {\r\n        SectionPageAdapter adapter = new SectionPageAdapter(getChildFragmentManager());\r\n\r\n        adapter.addFragment(new FriendsFragment(), \"חברים\");\r\n        adapter.addFragment(new ProjectsPrFragments(), \"פרוייקטים\");\r\n\r\n        viewPager.setAdapter(adapter);\r\n    }\r\n\r\n    void setLevel(){\r\n        if(mainScreen.user_xp > 525){\r\n            levelView.setText(\"רמה 8\");\r\n            goalText.setText(\"∞\");\r\n            goalText.setTextColor(Color.parseColor(\"#47C5A0\"));\r\n            levelProgress.setProgress(100);\r\n        } else if(mainScreen.user_xp > 400){\r\n            levelView.setText(\"רמה 7\");\r\n            goalText.setText(\"525\");\r\n            levelProgress.setProgress((mainScreen.user_xp - 400)*100 / (525 - 400));\r\n        } else if(mainScreen.user_xp > 300){\r\n            levelView.setText(\"רמה 6\");\r\n            goalText.setText(\"400\");\r\n            levelProgress.setProgress((mainScreen.user_xp - 300)*100 / (400 - 300));\r\n        } else if(mainScreen.user_xp > 150){\r\n            levelView.setText(\"רמה 5\");\r\n            goalText.setText(\"300\");\r\n            levelProgress.setProgress((mainScreen.user_xp - 150)*100 / (300 - 150));\r\n        } else if(mainScreen.user_xp > 100){\r\n            levelView.setText(\"רמה 4\");\r\n            goalText.setText(\"150\");\r\n            levelProgress.setProgress((mainScreen.user_xp - 100)*100 / (150 - 100));\r\n        } else if(mainScreen.user_xp > 60){\r\n            levelView.setText(\"רמה 3\");\r\n            goalText.setText(\"100\");\r\n            levelProgress.setProgress((mainScreen.user_xp - 60)*100 / (100 - 60));\r\n        } else if(mainScreen.user_xp > 30){\r\n            levelView.setText(\"רמה 2\");\r\n            goalText.setText(\"60\");\r\n            levelProgress.setProgress((mainScreen.user_xp - 30)*100 / (60 - 30));\r\n        } else if(mainScreen.user_xp <= 30){\r\n            levelView.setText(\"רמה 1\");\r\n            goalText.setText(\"30\");\r\n            levelProgress.setProgress(mainScreen.user_xp*100 / 30);\r\n        }\r\n\r\n        xpView.setText(String.valueOf(mainScreen.user_xp));\r\n    }\r\n\r\n    void courseProgress(){\r\n        courseProgressbarWeb.setProgress(mainScreen.courseProgressWeb * 100 / 10);\r\n        courseXp1.setText(String.valueOf(mainScreen.htmlXp) + \" XP\");\r\n        percentageProgress1.setText(String.valueOf(mainScreen.courseProgressWeb * 100 / 8) + \"%\");\r\n\r\n        courseProgressbarPy.setProgress(mainScreen.courseProgressPython * 100 / 17);\r\n        courseXp2.setText(String.valueOf(mainScreen.pyXp) + \" XP\");\r\n        percentageProgress2.setText(String.valueOf(mainScreen.courseProgressPython * 100 / 10) + \"%\");\r\n\r\n    }\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/getcodly/codly/profileFragment.java	(revision 12199717c69c86ab62917b91418ba256977fee1a)
+++ app/src/main/java/com/getcodly/codly/profileFragment.java	(date 1621084002060)
@@ -153,10 +153,11 @@
                 int color1 = mainScreen.imgC;
                 Log.d(String.valueOf(color1), String.valueOf(color1));
                 TextDrawable drawable = TextDrawable.builder().beginConfig()
-                        .width(60)  // width in px
-                        .height(60) // height in px
+                        .width(250)  // width in px
+                        .height(250) // height in px
+                        .fontSize(120) /* size in px */
                         .endConfig()
-                        .buildRect(firstLetter, color1);
+                        .buildRound(firstLetter, color1);
                 profImg.setImageDrawable(drawable);
             }
             for (String friend : mainScreen.friends.split("-")) {
Index: app/src/main/java/com/getcodly/codly/codeFramentQSfreeText.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.getcodly.codly;\r\n\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.AnimatedVectorDrawable;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.text.Editable;\r\nimport android.text.SpannableString;\r\nimport android.text.SpannableStringBuilder;\r\nimport android.text.TextWatcher;\r\nimport android.text.style.ForegroundColorSpan;\r\nimport android.util.Log;\r\nimport android.view.KeyEvent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.viewpager.widget.ViewPager;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\n\r\npublic class codeFramentQSfreeText extends Fragment  { //was extends Fragment, might need to change that\r\n\r\n    public static String htmlCode;\r\n    public static TextView htmlInp;\r\n    String htmlText;\r\n    List<String> c;\r\n    String[] cc;\r\n    String[] bb;\r\n    ViewPager mViewPager;\r\n    //public static TabLayout tabsHost;\r\n    String blankTemplate = \"<!doctype html>\\n<html>\\n    <head>\\n        \\n    </head>\\n    \\n    <body>\\n        \\n    </body>\\n</html>\";\r\n    private AnimatedVectorDrawable animation;\r\n\r\n    public codeFramentQSfreeText() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.fragment_code_frament_qs_free_text, container, false);\r\n\r\n        c = new ArrayList<String>();\r\n        cc = new String[]{\"body\", \"html\", \"head\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"br\", \"hr\",\r\n                \"dl\", \"dd\", \"dt\", \"tr\", \"td\", \"table\"};\r\n        bb = new String[]{\"src\", \"font size\", \"href\", \"type href\", \"class\", \"id\", \"id\", \"name\", \"rel\"};\r\n        Arrays.sort(cc, (str1, str2) -> str1.length() - str2.length());\r\n        c.add(\".\");\r\n        c.add(\" \");\r\n        c.add(\"=\");\r\n        c.add(\">\");\r\n        c.add(\"<\");\r\n        c.add(\"\\n\");\r\n        c.add(\"+\");\r\n        c.add(\"-\");\r\n        c.add(\"*\");\r\n        c.add(\"(\");\r\n        c.add(\")\");\r\n        htmlInp = v.findViewById(R.id.inputNonFreedum);\r\n\r\n        htmlInp.setFocusableInTouchMode(true);\r\n        htmlInp.requestFocus();\r\n        ArrayAdapter<String> adapter = new ArrayAdapter<String>\r\n                (getContext(),android.R.layout.select_dialog_item);\r\n        //Getting the instance of AutoCompleteTextView\r\n        //htmlInp.setThreshold(1);//will start working from first character\r\n        //htmlInp.setAdapter(adapter);//setting the adapter data into the AutoCompleteTextView\r\n        htmlInp.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                int loc = htmlInp.getSelectionStart();\r\n                htmlText = s.toString();\r\n                Log.d(String.valueOf(loc), String.valueOf(loc));\r\n                try {\r\n                    Log.d(\"hihi\", String.valueOf(htmlText.charAt(loc - 1)));\r\n                    if (c.contains(String.valueOf(htmlText.charAt(loc - 1)))){\r\n                        SpannableStringBuilder builder = new SpannableStringBuilder();\r\n                        SpannableString str1 = new SpannableString(htmlText);\r\n                        for (String codeWord : cc) {\r\n                            int startt = 0;\r\n                            while (htmlText.indexOf(codeWord, startt) > -1) {\r\n                                Log.d(\"hi\", String.valueOf(htmlText.indexOf(codeWord, 3)));\r\n                                str1.setSpan(new ForegroundColorSpan(Color.rgb(53, 133, 228)), htmlText.indexOf(codeWord, startt), htmlText.indexOf(codeWord, startt) + codeWord.length(), 0);\r\n                                startt = htmlText.indexOf(codeWord, startt) + codeWord.length();\r\n                            }\r\n                        }\r\n                        for (String codeWord2 : bb) {\r\n                            int startt = 0;\r\n                            while (htmlText.indexOf(codeWord2, startt) > -1) {\r\n                                Log.d(\"hi\", String.valueOf(htmlText.indexOf(codeWord2, 3)));\r\n                                str1.setSpan(new ForegroundColorSpan(Color.rgb(170, 109, 173)), htmlText.indexOf(codeWord2, startt), htmlText.indexOf(codeWord2, startt) + codeWord2.length(), 0);\r\n                                startt = htmlText.indexOf(codeWord2, startt) + codeWord2.length();\r\n                            }\r\n                        }\r\n                        int adNunc = 1;\r\n                        int altumAdNunc = 0;\r\n                        for (String tText: htmlText.split(\"\\\"\")){\r\n                            if (adNunc % 2 == 0){\r\n                                str1.setSpan(new ForegroundColorSpan(Color.rgb(125, 250, 111)), altumAdNunc, altumAdNunc + tText.length(), 0);\r\n                            }\r\n                            altumAdNunc = altumAdNunc + tText.length() + 1;\r\n                            adNunc = adNunc + 1;\r\n                        }\r\n                        htmlInp.setText(str1);\r\n                    }\r\n                }catch (Exception e){\r\n                    Log.d(\"err\", e.getLocalizedMessage());\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        mViewPager = (ViewPager) v.findViewById(R.id.view_pager6000);\r\n        //tabsHost = getActivity().findViewById(R.id.tabs6000);\r\n        detectLanguage();\r\n        if (selectProject.codeToLoad != null){\r\n            String codeToLoad2 = selectProject.codeToLoad;\r\n            codeToLoad2 = codeToLoad2.replace(\"\\\\n\", System.getProperty(\"line.separator\"));\r\n            htmlInp.setText(codeToLoad2);\r\n        } else {\r\n            htmlInp.setText(blankTemplate);\r\n        }\r\n\r\n        htmlInp.setOnKeyListener(new View.OnKeyListener() {\r\n            @Override\r\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n                // If the event is a key-down event on the \"enter\" button\r\n                if ((event.getAction() == KeyEvent.ACTION_DOWN) &&\r\n                        (keyCode == KeyEvent.KEYCODE_ENTER)) {\r\n                    // Perform action on key press\r\n\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        htmlInp.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                htmlCode = htmlInp.getText().toString();\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n\r\n        final Handler handler = new Handler();\r\n        final int delay = 3000; //milliseconds\r\n\r\n        /*handler.postDelayed(new Runnable(){\r\n            public void run(){\r\n                String[] c = new String[]{\"hello\", \"hi\"};\r\n                String text = htmlInp.getText().toString();\r\n                SpannableStringBuilder builder = new SpannableStringBuilder();\r\n                Arrays.sort(c, (str1, str2) -> str1.length() - str2.length());\r\n                SpannableString str1= new SpannableString(text);\r\n                for(String codeWord : c){\r\n                    int start = 0;\r\n                    while (text.indexOf(codeWord, start)>-1) {\r\n                        Log.d(\"hi\", String.valueOf(text.indexOf(codeWord, 3)));\r\n                        str1.setSpan(new ForegroundColorSpan(Color.GREEN), text.indexOf(codeWord, start), text.indexOf(codeWord, start) + codeWord.length(), 0);\r\n                        start = text.indexOf(codeWord, start) + codeWord.length();\r\n                    }\r\n                }\r\n                int loc = htmlInp.getSelectionStart();\r\n                htmlInp.setText(str1);\r\n                try {\r\n                    htmlInp.setSelection(loc);\r\n                } catch (Exception e){\r\n                    htmlInp.setSelection(builder.length());\r\n                }\r\n                handler.postDelayed(this, delay);\r\n            }\r\n        }, delay);*/\r\n        return v;\r\n    }\r\n\r\n    public static void getCode(FragmentActivity fa){\r\n        htmlCode = htmlInp.getText().toString();\r\n        openFragment(fa);\r\n    }\r\n\r\n    public static void openFragment(FragmentActivity fa) {\r\n        browserFragmentQS BrowserFragmentQS1 = new browserFragmentQS();\r\n\r\n        FragmentManager fragmentManager = fa.getSupportFragmentManager();\r\n        FragmentTransaction transaction = fragmentManager.beginTransaction();\r\n        transaction.addToBackStack(null);\r\n        transaction.add(R.id.fragment_container, BrowserFragmentQS1, \"FRAGMENT\").commit();\r\n        //tabsHost.getTabAt(1).select();\r\n        //((iframe2) getActivity()).changeTab(2);\r\n\r\n    }\r\n\r\n    void detectLanguage(){\r\n        String a = Locale.getDefault().getDisplayLanguage();\r\n        Log.d(\"lan\", a);\r\n        if(a.equals(\"English\")){\r\n            String help1S = \"\";\r\n        }\r\n    }\r\n\r\n    public static void setText(SpannableString text){\r\n        htmlInp.setText(text);\r\n    }\r\n    public static String getText(){\r\n        return htmlInp.getText().toString();\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/getcodly/codly/codeFramentQSfreeText.java	(revision 12199717c69c86ab62917b91418ba256977fee1a)
+++ app/src/main/java/com/getcodly/codly/codeFramentQSfreeText.java	(date 1621524480418)
@@ -69,10 +69,13 @@
         c.add(")");
         htmlInp = v.findViewById(R.id.inputNonFreedum);
 
+
         htmlInp.setFocusableInTouchMode(true);
         htmlInp.requestFocus();
         ArrayAdapter<String> adapter = new ArrayAdapter<String>
                 (getContext(),android.R.layout.select_dialog_item);
+
+        htmlCode = htmlInp.getText().toString();
         //Getting the instance of AutoCompleteTextView
         //htmlInp.setThreshold(1);//will start working from first character
         //htmlInp.setAdapter(adapter);//setting the adapter data into the AutoCompleteTextView
@@ -137,6 +140,7 @@
             String codeToLoad2 = selectProject.codeToLoad;
             codeToLoad2 = codeToLoad2.replace("\\n", System.getProperty("line.separator"));
             htmlInp.setText(codeToLoad2);
+            htmlCode = codeToLoad2;
         } else {
             htmlInp.setText(blankTemplate);
         }
